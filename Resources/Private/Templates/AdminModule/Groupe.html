<html data-namespace-typo3-fluid="true" xmlns:be="http://typo3.org/ns/TYPO3/CMS/Backend/ViewHelpers"
   xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers">

<f:layout name="Module" />
<f:section name="Content">
   <h1>List parsed links Grouped by href(RTE)</h1>
   
   <div class="accordion" id="listAccordion">
      <ul class="list-group">
         <f:for each="{links}" as="linkItems" key="key" iteration="itemNumber">
            <li class="list-group-item">
               <div class="accordion-item">
                  <h2 class="accordion-header" id="heading{itemNumber.index}">
                     <button class="accordion-button collapsed" type="button"
                        data-bs-toggle="collapse"
                        data-bs-target="#collapseItem{itemNumber.index}"
                        aria-expanded="false"
                        aria-controls="collapseItem{itemNumber.index}">
                        {key}
                     </button>
                  </h2>
                  <div id="collapseItem{itemNumber.index}" class="accordion-collapse collapse"
                     aria-labelledby="heading{itemNumber.index}" data-bs-parent="#listAccordion">
                     <div class="accordion-body">
                        <ul class="list-group">
                           <table class="table table-striped table-hover">
                              <thead>
                                 <tr>
                                    <th>
                                       <f:translate
                                          key="LLL:EXT:external_link_list/Resources/Private/Language/Module/locallang_mod.xlf:uid" />
                                    </th>
                                    <th>
                                       <f:translate
                                          key="LLL:EXT:external_link_list/Resources/Private/Language/Module/locallang_mod.xlf:title" />
                                    </th>
                                    <th>
                                       <f:translate
                                          key="LLL:EXT:external_link_list/Resources/Private/Language/Module/locallang_mod.xlf:target" />
                                    </th>
                                    <th>
                                       <f:translate
                                          key="LLL:EXT:external_link_list/Resources/Private/Language/Module/locallang_mod.xlf:pid" />
                                    </th>
                                    <th>
                                       <f:translate
                                          key="LLL:EXT:external_link_list/Resources/Private/Language/Module/locallang_mod.xlf:url" />
                                    </th>
                                    <th>
                                       <f:translate
                                          key="LLL:EXT:external_link_list/Resources/Private/Language/Module/locallang_mod.xlf:actions" />
                                    </th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <f:for each="{linkItems}" as="link">
                                    <tr>
                                       <td>{link.uid}</td>
                                       <td>{link.title}</td>
                                       <td>{link.target}</td>
                                       <td>{link.pid}</td>
                                       <td><a href="{link.href}">{link.href}</a></td>
                                       <td>
                                          <be:link.editRecord class="btn btn-default btn-borderless" table="tt_content" uid="{link.uid}">
                                             <span class="t3js-icon icon icon-size-small icon-state-default icon-actions-page-open"
                                                data-identifier="actions-page-open" aria-hidden="true">
                                                <span class="icon-markup">
                                                   <svg class="icon-color">
                                                      <use
                                                         xlink:href="/_assets/1ee1d3e909b58d32e30dcea666dd3224/Icons/T3Icons/sprites/actions.svg#actions-file-edit">
                                                      </use>
                                                   </svg>
                                                </span>
                                             </span>
                                          </be:link.editRecord>
                                       </td>
                                    </tr>
                                 </f:for>
                                 
                              </tbody>
                           </table>
                        </ul>
                     </div>
                  </div>
               </div>
            </li>
         </f:for>
      </ul>
   </div>

</f:section>


</html>